(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[956],{3493:function(e,i,t){Promise.resolve().then(t.bind(t,2213))},2213:function(e,i,t){"use strict";t.r(i),t.d(i,{default:function(){return l}});var n=t(6591),r=t(3168),s=t(3330),d=t(4417);function l(){let[e,i]=(0,r.useState)([]),[t,l]=(0,r.useState)(!0),[o,a]=(0,r.useState)(null);(0,r.useEffect)(()=>{let e=!0;return(async()=>{var t,n;l(!0),a(null);try{let n=await fetch(function(e){let i=d.env.NEXT_PUBLIC_GIGGIN_API_URL;if(i&&i.trim().length>0){let t=i.replace(/\/+$/,""),n=e.startsWith("/")?e:"/".concat(e);return"".concat(t).concat(n)}return e.startsWith("/")?e:"/".concat(e)}("/api/gigs"),{cache:"no-store"});if(!n.ok)throw Error("HTTP ".concat(n.status));let r=await n.json(),s=Array.isArray(r)?r:null!==(t=null==r?void 0:r.gigs)&&void 0!==t?t:[];e&&i(s)}catch(t){e&&(i([]),a(null!==(n=null==t?void 0:t.message)&&void 0!==n?n:"fetch failed"))}finally{e&&l(!1)}})(),()=>{e=!1}},[]);let c=(0,r.useMemo)(()=>e.length,[e]);return(0,n.jsxs)("main",{style:{padding:"2rem",maxWidth:900,margin:"0 auto"},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"baseline",gap:16},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{style:{margin:0},children:"Gigs"}),(0,n.jsx)("p",{style:{marginTop:8,opacity:.8},children:t?"Loading…":"".concat(c," found.")})]}),(0,n.jsxs)("div",{style:{display:"flex",gap:12},children:[(0,n.jsx)(s.default,{href:"/gigs/new",style:{padding:"0.6rem 1rem",borderRadius:10,background:"#111",color:"#fff",textDecoration:"none"},children:"+ New Gig"}),(0,n.jsx)(s.default,{href:"/",style:{padding:"0.6rem 1rem",borderRadius:10,border:"1px solid #ddd",textDecoration:"none"},children:"← Home"})]})]}),o?(0,n.jsxs)("div",{style:{marginTop:16,padding:12,borderRadius:10,background:"#fff4f4",border:"1px solid #ffd0d0"},children:[(0,n.jsx)("strong",{children:"API not reachable."})," ",o,(0,n.jsxs)("div",{style:{marginTop:8,opacity:.8},children:["Tip: start giggin-api or set ",(0,n.jsx)("code",{children:"NEXT_PUBLIC_GIGGIN_API_URL"}),"."]})]}):null,(0,n.jsx)("div",{style:{marginTop:24,display:"grid",gap:12},children:t?(0,n.jsx)("div",{style:{opacity:.7},children:"Fetching gigs…"}):0===e.length?(0,n.jsxs)("div",{style:{padding:16,borderRadius:12,border:"1px solid #e5e5e5"},children:[(0,n.jsx)("div",{style:{fontWeight:600},children:"No gigs yet."}),(0,n.jsx)("div",{style:{opacity:.8,marginTop:6},children:"Create your first gig to see it here."}),(0,n.jsx)("div",{style:{marginTop:12},children:(0,n.jsx)(s.default,{href:"/gigs/new",style:{display:"inline-block",padding:"0.7rem 1rem",borderRadius:10,background:"#0070f3",color:"#fff",textDecoration:"none"},children:"Create Gig →"})})]}):e.map(e=>{var i,t;return(0,n.jsx)(s.default,{href:"/gigs/".concat(encodeURIComponent(e.id)),style:{padding:16,borderRadius:12,border:"1px solid #e5e5e5",textDecoration:"none",color:"inherit"},children:(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gap:12},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{fontWeight:700},children:null!==(i=e.title)&&void 0!==i?i:"Untitled gig"}),(0,n.jsx)("div",{style:{opacity:.75,marginTop:4},children:[e.date,e.location].filter(Boolean).join(" • ")})]}),(0,n.jsxs)("div",{style:{textAlign:"right",opacity:.85},children:["number"==typeof e.pay?"$".concat(e.pay.toFixed(2)):"",(0,n.jsx)("div",{style:{marginTop:4,fontSize:12},children:null!==(t=e.status)&&void 0!==t?t:""})]})]})},e.id)})})]})}}},function(e){e.O(0,[916,443,686,744],function(){return e(e.s=3493)}),_N_E=e.O()}]);