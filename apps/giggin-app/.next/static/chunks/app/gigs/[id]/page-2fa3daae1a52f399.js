(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{4181:function(e,t,r){Promise.resolve().then(r.bind(r,6618))},6618:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return i}});var n=r(6591),o=r(3168),a=r(2782);function i(){let e=(0,a.useRouter)(),[t,r]=(0,o.useState)(""),[i,s]=(0,o.useState)(""),[u,d]=(0,o.useState)(""),[l,c]=(0,o.useState)(!1),[p,g]=(0,o.useState)(""),h=async r=>{r.preventDefault(),c(!0),g("");try{if(!(await fetch("http://localhost:4002/gigs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({provider:t,payout:Number(i),address:u})})).ok)throw Error("Failed to create gig");e.push("/gigs")}catch(e){g("Failed to create gig. Make sure the API is running.")}finally{c(!1)}},f={width:"100%",padding:"0.75rem",fontSize:"1rem",border:"1px solid #ccc",borderRadius:"6px",marginTop:"0.5rem"},b={display:"block",marginBottom:"1rem",fontWeight:500};return(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{children:"Add New Gig"}),p&&(0,n.jsx)("div",{style:{padding:"1rem",background:"#fee",color:"#c00",borderRadius:"6px",marginBottom:"1rem"},children:p}),(0,n.jsxs)("form",{onSubmit:h,style:{background:"#fff",padding:"1.5rem",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[(0,n.jsxs)("label",{style:b,children:["Provider (e.g., DoorDash, Instacart)",(0,n.jsx)("input",{type:"text",value:t,onChange:e=>r(e.target.value),required:!0,style:f,placeholder:"DoorDash"})]}),(0,n.jsxs)("label",{style:b,children:["Payout ($)",(0,n.jsx)("input",{type:"number",value:i,onChange:e=>s(e.target.value),required:!0,min:"1",style:f,placeholder:"15"})]}),(0,n.jsxs)("label",{style:b,children:["Address",(0,n.jsx)("input",{type:"text",value:u,onChange:e=>d(e.target.value),required:!0,style:f,placeholder:"123 Main St, City"})]}),(0,n.jsx)("button",{type:"submit",disabled:l,style:{marginTop:"1rem",padding:"0.75rem 1.5rem",fontSize:"1rem",background:l?"#ccc":"#0070f3",color:"#fff",border:"none",borderRadius:"6px",cursor:l?"not-allowed":"pointer"},children:l?"Creating...":"Create Gig"})]})]})}},2782:function(e,t,r){"use strict";var n=r(8937);r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})}},function(e){e.O(0,[443,686,744],function(){return e(e.s=4181)}),_N_E=e.O()}]);